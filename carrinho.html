<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/header/header.css">
    <link rel="stylesheet" href="/var.css">
    <link rel="stylesheet" href="/footer/footer.css">
    <link rel="stylesheet" href="/categorias/loja/loja.css">
    <link rel="shortcut icon" href="/img/outras/logo.png" type="image/x-icon">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=segment,shopping_cart" />
    <title>Carrinho de Compras | Anilclean</title>
    <style>
        .cart-container {
            max-width: 700px;
            margin: 40px auto;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            padding: 32px 24px 24px 24px;
        }
        .cart-title {
            font-size: 2rem;
            margin-bottom: 24px;
            text-align: center;
        }
        .cart-items {
            margin-bottom: 24px;
        }
        .cart-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #eee;
            padding: 12px 0;
        }
        .cart-item img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 6px;
            margin-right: 16px;
        }
        .cart-item-info {
            flex: 1;
            display: flex;
            align-items: center;
        }
        .cart-item-title {
            font-weight: 500;
        }
        .cart-item-qty {
            margin: 0 12px;
        }
        .cart-total {
            font-size: 1.2rem;
            font-weight: bold;
            text-align: right;
            margin-bottom: 24px;
        }
        .cart-actions {
            text-align: right;
        }
        .cart-btn {
            background: #1e88e5;
            color: #fff;
            border: none;
            border-radius: 6px;
            padding: 12px 32px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.2s;
        }
        .cart-btn:active, .cart-btn:hover {
            background: #1565c0;
        }
        .empty-cart {
            text-align: center;
            color: #888;
            margin: 40px 0;
        }
    </style>
</head>
<body>
    <header id="header"></header>
    <div class="cart-container">
        <div class="cart-title">Seu Carrinho</div>
        <div class="cart-items" id="cart-items"></div>
        <div class="cart-total" id="cart-total"></div>
        <div class="cart-actions">
            <button class="cart-btn" id="limpar-btn" style="background: #f44336; margin-right: 12px;">Limpar Carrinho</button>
            <button class="cart-btn" id="solicitar-btn">Solicitar</button>
        </div>
    </div>
    <footer id="footer"></footer>
    <script src="/header/header.js"></script>
    <script src="/footer/footer.js"></script>
    <script>
    // Função utilitária para formatar preço
    function formatPrice(price) {
        return 'R$ ' + price.toFixed(2).replace('.', ',');
    }

    // Carregar itens do carrinho do localStorage
    function loadCart() {
        const cart = JSON.parse(localStorage.getItem('cart') || '[]');
        const cartItemsDiv = document.getElementById('cart-items');
        const cartTotalDiv = document.getElementById('cart-total');
        if (cart.length === 0) {
            cartItemsDiv.innerHTML = '<div class="empty-cart">Seu carrinho está vazio.</div>';
            cartTotalDiv.textContent = '';
            return;
        }
        let total = 0;
        cartItemsDiv.innerHTML = cart.map(item => {
            total += item.price * item.qty;
            return `<div class="cart-item">
                <div class="cart-item-info">
                    <img src="${item.img}" alt="${item.title}">
                    <span class="cart-item-title">${item.title}</span>
                </div>
                <span class="cart-item-qty">x${item.qty}</span>
                <span>${formatPrice(item.price * item.qty)}</span>
            </div>`;
        }).join('');
        cartTotalDiv.textContent = 'Total: ' + formatPrice(total);
    }

    // Inicializar carrinho ao carregar página
    document.addEventListener('DOMContentLoaded', loadCart);
    
    // Adicionar evento para limpar carrinho
    document.getElementById('limpar-btn').addEventListener('click', function() {
        if (confirm('Tem certeza que deseja limpar o carrinho?')) {
            localStorage.removeItem('cart');
            loadCart();
            if (window.updateCartBadge) window.updateCartBadge();
        }
    });
    </script>
</body>
</html>
